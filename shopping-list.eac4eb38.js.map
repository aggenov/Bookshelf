{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-cbb64ef3633327c9.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7c12e4a59bfbbb6a.js","node_modules/@parcel/runtime-js/lib/runtime-032aed01e13f9d60.js","node_modules/@parcel/runtime-js/lib/runtime-4de40fc9f689d7b3.js","node_modules/@parcel/runtime-js/lib/runtime-6a48e73e4bf6753a.js","node_modules/@parcel/runtime-js/lib/runtime-d25df98530aa41a8.js","node_modules/@parcel/runtime-js/lib/runtime-e18e0a864745ef90.js","src/JS/localStorage/localStorageAdd.js","src/JS/PopUp/Markup/BookshopMarkup.js","src/JS/shoppingJS/Markup/CardMarkup.js","src/JS/shoppingJS/shopping-list.js","src/JS/localStorage/savingInStorage.js","src/JS/header.js","src/JS/colorTheme.js","src/JS/scroll-up.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"5iIId\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"cS5sy\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"1UaLq\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"gPW5L\");","module.exports = require('./helpers/bundle-url').getBundleURL('7ttGv') + require('./helpers/bundle-manifest').resolve(\"bhHUw\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7ttGv\\\":\\\"shopping-list.eac4eb38.js\\\",\\\"aaLHb\\\":\\\"amazon.626c9508.png\\\",\\\"5iIId\\\":\\\"amazon@2x.104a65be.png\\\",\\\"cS5sy\\\":\\\"books.652b354e.png\\\",\\\"1UaLq\\\":\\\"books@2x.15632d7d.png\\\",\\\"gPW5L\\\":\\\"book-shop.1d091ebd.png\\\",\\\"bhHUw\\\":\\\"book-shop@2x.1f77f032.png\\\"}\"));","// Робота з додаванням і видаленням\nexport const saveStorage = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const loadStorage = key => {\n  try {\n    let serializedState = localStorage.getItem(key);\n    if (!serializedState) {\n      saveStorage(key, []);\n      serializedState = localStorage.getItem(key);\n    }\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\nexport const removeStorage = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n};\n","// сохраняю ссылки на иконки магазинов в одном объекте\nconst images = {\n  amazon: {\n    '1x': require('../../../images/amazon.png'),\n    '2x': require('../../../images/amazon@2x.png'),\n    width: 62,\n  },\n  apple: {\n    '1x': require('../../../images/books.png'),\n    '2x': require('../../../images/books@2x.png'),\n    width: 32,\n  },\n  bookshop: {\n    '1x': require('../../../images/book-shop.png'),\n    '2x': require('../../../images/book-shop@2x.png'),\n    width: 38,\n  },\n};\n\n// делаю деструктуризацию иконок, теперь можно использовать такой синтаксис:\n// apple['2x'], amazon['1x'] и тд.\nconst { amazon, apple, bookshop } = images;\n\n/*\n\n  тут логика createShopIcon простая, если название из buy_links.name совпадает\n  с одним из популярных магазинов, тогда мы вызываем функцию, \n  которая вернет разметку этого магазина, с правильными аргументами\n\n*/\n\nexport function createShopIcon({ name, url }) {\n  if (name === 'Amazon') {\n    // console.log(name);\n    return ShopIcon(name, url, amazon['1x'], amazon['2x'], amazon.width);\n  }\n  if (name === 'Apple Books') {\n    // console.log(name);\n    return ShopIcon(name, url, apple['1x'], apple['2x'], apple.width);\n  }\n  if (name === 'Bookshop') {\n    // console.log(name);\n    return ShopIcon(name, url, bookshop['1x'], bookshop['2x'], bookshop.width);\n  }\n}\n\nfunction ShopIcon(name, url, srcset1x, srcset2x, width) {\n  return `\n    <li>\n      <a href=\"${url}\" target=\"_blank\">\n        <img\n          src=\"${srcset1x}\"\n          class=\"logo\"\n          srcset=\"${srcset1x} 1x, ${srcset2x} 2x\"\n          alt=\"${name}\"\n          width=\"${width}\"\n        />\n      </a>\n    </li>\n  `;\n}\n","import { createShopIcon } from '../../PopUp/Markup/BookshopMarkup';\n\nexport function createBookMarkup({\n  _id,\n  book_image,\n  title,\n  author,\n  list_name,\n  description,\n  buy_links,\n}) {\n  return `\n    <li class=\"book-in-shopping-list shopping-list__item\" data-modal-id=\"${_id}\">\n      <button\n        type=\"button\"\n        data-action=\"delete\"\n        value=\"remove\"\n        class=\"shopping-button\"\n      >\n      </button>\n\n      <div class=\"придумайте сами\">\n        <img \n          class=\"shopping-list__img\" \n          src=\"${book_image}\" \n          alt=\"${title}\"\n          loading=\"lazy\"\n        />\n      </div>\n\n      <p class=\"shopping-list__title\">${title}</p>\n      <p class=\"придумайте сами\">${list_name}</p>\n      <p class=\"придумайте сами\">${description}</p>\n      <p class=\"придумайте сами\">${author}</p>\n      <ul class=\"list-link-book-shop\">\n      ${buy_links.map(createShopIcon).join('')}\n      </ul>\n    </li>\n    `;\n}\n\n// говорит андрей!\n// СТИЛИ ДЛЯ list-link-book-shop ТРОГАТЬ НЕЛЬЗЯ ПОТОМУ ЧТО ОНИ ОБЩИЕ\n","import { loadStorageBooks } from '../localStorage/savingInStorage';\nimport { createBookMarkup } from './Markup/CardMarkup';\n\nconst shoppingList = document.querySelector('.shopping-cart');\nconst emptyList = document.querySelector('.empty-list');\n\nfunction renderShoppingList(BooksArray) {\n  if (Array.isArray(BooksArray)) {\n    // проходимся мапом по каждому объекту из массива\n    const cardMarkup = BooksArray.map(createBookMarkup).join(' ');\n\n    shoppingList.insertAdjacentHTML('beforeend', cardMarkup);\n  }\n\n  // не люблю элсы\n  // else {\n  //   shoppingList.classList.add('visually-hidden');\n  //   emptyList.classList.remove('visually-hidden');\n  // }\n}\n\n// вызов функции loadStorageBooks() вернет массив книг из локалсторедж.\n// соответственно этот массив я передаю в функцию для отрисовки.\nrenderShoppingList(loadStorageBooks());\n","import {\n  saveStorage,\n  loadStorage,\n  removeStorage,\n} from '..//localStorage/localStorageAdd';\n\n// Запис в локальне сховище нової книги через обєкт значень\nexport const saveStorageBooks = bookInfo => {\n  const id = bookInfo._id;\n  // считування масиву обєктів з сховища\n  let booksArrayOld = loadStorage('books');\n\n  // перевірка наявності даного id в масиві\n  if (booksArrayOld.some(book => book._id === id)) {\n    console.log('this book is already saved in local storage');\n  } else {\n    booksArrayOld.push(bookInfo);\n    saveStorage('books', booksArrayOld);\n  }\n};\n\n// Видалення книги через обєкт значень\nexport const removeElStorage = bookInfo => {\n  const id = bookInfo._id;\n  // зчитування масиву обєктів з сховища\n  const booksArrayOld = loadStorage('books');\n\n  // перевірка наявності даного id в масиві id\n  if (booksArrayOld.some(book => book._id === id)) {\n    const newBooksArray = booksArrayOld.filter(book => book._id !== id);\n    saveStorage('books', newBooksArray);\n  }\n};\n//очищення сховище від books\nexport const removeStorageBooks = () => {\n  removeStorage('books');\n};\n// Зчитування масиву обєктів значень книг з сховища\nexport const loadStorageBooks = () => {\n  return loadStorage('books');\n};\n","const burgerMenu = document.querySelector('.modal-mobile-menu');\nconst btnOpen = document.querySelector('.header-burger');\nconst closeModalMenu = document.querySelector('.mobile-close-btn');\nexport const checkbox = document.querySelector('#switch');\nexport const colorTheme = localStorage.getItem('ui-theme');\n\n(function checkColorTheme() {\n  if (!colorTheme) {\n    localStorage.setItem('ui-theme', 'light');\n  }\n  if (colorTheme === 'light') {\n    checkbox.attributes.type.ownerElement.checked = false;\n  } else {\n    checkbox.attributes.type.ownerElement.checked = true;\n  }\n})();\n\nbtnOpen.addEventListener('click', () => {\n  burgerMenu.style.display = 'block';\n});\n\ncloseModalMenu.addEventListener('click', () => {\n  burgerMenu.style.display = 'none';\n});\n\ncheckbox.addEventListener('click', toggleCheckbox);\n\nfunction toggleCheckbox() {\n  if (!checkbox.attributes.type.ownerElement.checked) {\n    localStorage.setItem('ui-theme', 'light');\n  } else {\n    localStorage.setItem('ui-theme', 'dark');\n  }\n}\n","import { colorTheme, checkbox } from './header';\n// console.log('colorTheme: ', colorTheme);\n\n//устанавливаем для root: атрибут ui-theme === 'dark'\ndocument.addEventListener('DOMContentLoaded', () => {\n  init();\n});\n\nfunction init() {\n  if (localStorage.getItem('ui-theme') === 'dark') {\n    document.documentElement.setAttribute('ui-theme', 'dark');\n  } else {\n    document.documentElement.removeAttribute('ui-theme');\n  }\n  // console.log(document.documentElement.hasAttribute('ui-theme'));\n}\n\n//слушатель checkbox для root: атрибут ui-theme === 'dark'\ncheckbox.addEventListener('click', function () {\n  if (document.documentElement.hasAttribute('ui-theme')) {\n    document.documentElement.removeAttribute('ui-theme');\n  } else {\n    document.documentElement.setAttribute('ui-theme', 'dark');\n  }\n});\n","const btnUp = document.querySelector('.btn-up');\nwindow.addEventListener('scroll', function () {\n  btnUp.hidden = scrollY < document.documentElement.clientHeight / 2;\n});\n\nbtnUp.onclick = function () {\n  window.scrollTo(scrollX, 0);\n  // после scrollTo возникнет событие \"scroll\", так что стрелка автоматически скроется\n};\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","parcelRequire","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse","$e31a47a0d1700858$export$e481b0370444f494","key","serializedState","stringify","localStorage","setItem","error","console","message","$e31a47a0d1700858$export$efde19727f3cd66e","getItem","undefined","$66df3ae987cb17e4$var$images","amazon","width","apple","bookshop","$66df3ae987cb17e4$var$amazon","$66df3ae987cb17e4$var$apple","$66df3ae987cb17e4$var$bookshop","$66df3ae987cb17e4$export$ed109cc220aecda","param","name","$66df3ae987cb17e4$var$ShopIcon","srcset1x","srcset2x","concat","$a75413c344335c9f$export$fc330cc8afb2a391","_id","book_image","title","author","list_name","description","buy_links","map","join","$d0d275d12af6e8dc$var$shoppingList","document","querySelector","BooksArray","Array","isArray","cardMarkup","insertAdjacentHTML","$d0d275d12af6e8dc$var$renderShoppingList","$f0b9f5b82d274fd7$var$burgerMenu","$f0b9f5b82d274fd7$var$btnOpen","$f0b9f5b82d274fd7$var$closeModalMenu","$f0b9f5b82d274fd7$export$b07e517d22efa1ca","$f0b9f5b82d274fd7$export$2b11c48ef85de3e2","attributes","type","ownerElement","checked","addEventListener","style","display","documentElement","setAttribute","removeAttribute","hasAttribute","$39a31e66fa994c0c$var$btnUp","window","hidden","scrollY","clientHeight","onclick","scrollTo","scrollX"],"version":3,"file":"shopping-list.eac4eb38.js.map"}