{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-eb2c663a17e12afc.js","node_modules/@parcel/runtime-js/lib/runtime-bb9dd79afd952880.js","node_modules/@parcel/runtime-js/lib/runtime-1f13f0140b2df700.js","node_modules/@parcel/runtime-js/lib/runtime-c9afb49e98f1dcb7.js","node_modules/@parcel/runtime-js/lib/runtime-02e59a028839bff4.js","node_modules/@parcel/runtime-js/lib/runtime-a3241703c63d93e5.js","src/JS/localStorage/localStorageAdd.js","src/JS/PopUp/Markup/BookshopMarkup.js","src/JS/shoppingJS/Markup/CardMarkup.js","src/JS/shoppingJS/shopping-list.js","src/JS/localStorage/savingInStorage.js","src/JS/header.js","src/JS/colorTheme.js","src/JS/scroll-up.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6p5Hd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aebFL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lLaNQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5NiVu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7oohP\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3bDNW\\\":\\\"shopping-list.a0eae8bc.js\\\",\\\"1yVwl\\\":\\\"amazon.626c9508.png\\\",\\\"6p5Hd\\\":\\\"amazon@2x.104a65be.png\\\",\\\"aebFL\\\":\\\"books.652b354e.png\\\",\\\"lLaNQ\\\":\\\"books@2x.15632d7d.png\\\",\\\"5NiVu\\\":\\\"book-shop.1d091ebd.png\\\",\\\"7oohP\\\":\\\"book-shop@2x.1f77f032.png\\\"}\"));","// Робота з додаванням і видаленням\nexport const saveStorage = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const loadStorage = key => {\n  try {\n    let serializedState = localStorage.getItem(key);\n    if (!serializedState) {\n      saveStorage(key, []);\n      serializedState = localStorage.getItem(key);\n    }\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\nexport const removeStorage = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n};\n","// сохраняю ссылки на иконки магазинов в одном объекте\nconst images = {\n  amazon: {\n    '1x': require('../../../images/amazon.png'),\n    '2x': require('../../../images/amazon@2x.png'),\n    width: 62,\n  },\n  apple: {\n    '1x': require('../../../images/books.png'),\n    '2x': require('../../../images/books@2x.png'),\n    width: 32,\n  },\n  bookshop: {\n    '1x': require('../../../images/book-shop.png'),\n    '2x': require('../../../images/book-shop@2x.png'),\n    width: 38,\n  },\n};\n\n// делаю деструктуризацию иконок, теперь можно использовать такой синтаксис:\n// apple['2x'], amazon['1x'] и тд.\nconst { amazon, apple, bookshop } = images;\n\n/*\n\n  тут логика createShopIcon простая, если название из buy_links.name совпадает\n  с одним из популярных магазинов, тогда мы вызываем функцию, \n  которая вернет разметку этого магазина, с правильными аргументами\n\n*/\n\nexport function createShopIcon({ name, url }) {\n  if (name === 'Amazon') {\n    // console.log(name);\n    return ShopIcon(name, url, amazon['1x'], amazon['2x'], amazon.width);\n  }\n  if (name === 'Apple Books') {\n    // console.log(name);\n    return ShopIcon(name, url, apple['1x'], apple['2x'], apple.width);\n  }\n  if (name === 'Bookshop') {\n    // console.log(name);\n    return ShopIcon(name, url, bookshop['1x'], bookshop['2x'], bookshop.width);\n  }\n}\n\nfunction ShopIcon(name, url, srcset1x, srcset2x, width) {\n  return `\n    <li>\n      <a href=\"${url}\" target=\"_blank\">\n        <img\n          src=\"${srcset1x}\"\n          class=\"logo\"\n          srcset=\"${srcset1x} 1x, ${srcset2x} 2x\"\n          alt=\"${name}\"\n          width=\"${width}\"\n        />\n      </a>\n    </li>\n  `;\n}\n","import { createShopIcon } from '../../PopUp/Markup/BookshopMarkup';\n\nexport function createBookMarkup({\n  _id,\n  book_image,\n  title,\n  author,\n  list_name,\n  description,\n  buy_links,\n}) {\n  return `\n    <li class=\"book-in-shopping-list shopping-list__item\" data-modal-id=\"${_id}\">\n      <button\n        type=\"button\"\n        data-action=\"delete\"\n        value=\"remove\"\n        class=\"shopping-button\"\n      >\n      </button>\n\n      <div class=\"придумайте сами\">\n        <img \n          class=\"shopping-list__img\" \n          src=\"${book_image}\" \n          alt=\"${title}\"\n          loading=\"lazy\"\n        />\n      </div>\n\n      <p class=\"shopping-list__title\">${title}</p>\n      <p class=\"придумайте сами\">${list_name}</p>\n      <p class=\"придумайте сами\">${description}</p>\n      <p class=\"придумайте сами\">${author}</p>\n      <ul class=\"list-link-book-shop\">\n      ${buy_links.map(createShopIcon).join('')}\n      </ul>\n    </li>\n    `;\n}\n\n// говорит андрей!\n// СТИЛИ ДЛЯ list-link-book-shop ТРОГАТЬ НЕЛЬЗЯ ПОТОМУ ЧТО ОНИ ОБЩИЕ\n","import { loadStorageBooks } from '../localStorage/savingInStorage';\nimport { createBookMarkup } from './Markup/CardMarkup';\n\nconst shoppingList = document.querySelector('.shopping-cart');\nconst emptyList = document.querySelector('.empty-list');\n\nfunction renderShoppingList(BooksArray) {\n  if (Array.isArray(BooksArray)) {\n    // проходимся мапом по каждому объекту из массива\n    const cardMarkup = BooksArray.map(createBookMarkup).join(' ');\n\n    shoppingList.insertAdjacentHTML('beforeend', cardMarkup);\n  }\n\n  // не люблю элсы\n  // else {\n  //   shoppingList.classList.add('visually-hidden');\n  //   emptyList.classList.remove('visually-hidden');\n  // }\n}\n\n// вызов функции loadStorageBooks() вернет массив книг из локалсторедж.\n// соответственно этот массив я передаю в функцию для отрисовки.\nrenderShoppingList(loadStorageBooks());\n","import {\n  saveStorage,\n  loadStorage,\n  removeStorage,\n} from '..//localStorage/localStorageAdd';\n\n// Запис в локальне сховище нової книги через обєкт значень\nexport const saveStorageBooks = bookInfo => {\n  const id = bookInfo._id;\n  // считування масиву обєктів з сховища\n  let booksArrayOld = loadStorage('books');\n\n  // перевірка наявності даного id в масиві\n  if (booksArrayOld.some(book => book._id === id)) {\n    console.log('this book is already saved in local storage');\n  } else {\n    booksArrayOld.push(bookInfo);\n    saveStorage('books', booksArrayOld);\n  }\n};\n\n// Видалення книги через обєкт значень\nexport const removeElStorage = bookInfo => {\n  const id = bookInfo._id;\n  // зчитування масиву обєктів з сховища\n  const booksArrayOld = loadStorage('books');\n\n  // перевірка наявності даного id в масиві id\n  if (booksArrayOld.some(book => book._id === id)) {\n    const newBooksArray = booksArrayOld.filter(book => book._id !== id);\n    saveStorage('books', newBooksArray);\n  }\n};\n//очищення сховище від books\nexport const removeStorageBooks = () => {\n  removeStorage('books');\n};\n// Зчитування масиву обєктів значень книг з сховища\nexport const loadStorageBooks = () => {\n  return loadStorage('books');\n};\n","const burgerMenu = document.querySelector('.modal-mobile-menu');\nconst btnOpen = document.querySelector('.header-burger');\nconst closeModalMenu = document.querySelector('.mobile-close-btn');\nexport const checkbox = document.querySelector('#switch');\n// export const checkbox = document.querySelector('#mob-switch');\n// console.dir(checkbox);\nexport const colorTheme = localStorage.getItem('ui-theme');\n\n(function checkColorTheme() {\n  if (!colorTheme) {\n    localStorage.setItem('ui-theme', 'light');\n  }\n  if (colorTheme === 'light') {\n    checkbox.attributes.type.ownerElement.checked = false;\n  } else {\n    checkbox.attributes.type.ownerElement.checked = true;\n  }\n})();\n\nbtnOpen.addEventListener('click', () => {\n  burgerMenu.style.display = 'block';\n});\n\ncloseModalMenu.addEventListener('click', () => {\n  burgerMenu.style.display = 'none';\n});\n\ncheckbox.addEventListener('click', toggleCheckbox);\n\nfunction toggleCheckbox() {\n  if (!checkbox.attributes.type.ownerElement.checked) {\n    localStorage.setItem('ui-theme', 'light');\n  } else {\n    localStorage.setItem('ui-theme', 'dark');\n  }\n}\n","import { colorTheme, checkbox } from './header';\n// console.log('colorTheme: ', colorTheme);\n\n//устанавливаем для root: атрибут ui-theme === 'dark'\ndocument.addEventListener('DOMContentLoaded', () => {\n  init();\n});\n\nfunction init() {\n  if (localStorage.getItem('ui-theme') === 'dark') {\n    document.documentElement.setAttribute('ui-theme', 'dark');\n  } else {\n    document.documentElement.removeAttribute('ui-theme');\n  }\n  // console.log(document.documentElement.hasAttribute('ui-theme'));\n}\n\n//слушатель checkbox для root: атрибут ui-theme === 'dark'\ncheckbox.addEventListener('click', function () {\n  if (document.documentElement.hasAttribute('ui-theme')) {\n    document.documentElement.removeAttribute('ui-theme');\n  } else {\n    document.documentElement.setAttribute('ui-theme', 'dark');\n  }\n});\n","const btnUp = document.querySelector('.btn-up');\nwindow.addEventListener('scroll', function () {\n  btnUp.hidden = scrollY < document.documentElement.clientHeight / 2;\n});\n\nbtnUp.onclick = function () {\n  window.scrollTo(scrollX, 0);\n  // после scrollTo возникнет событие \"scroll\", так что стрелка автоматически скроется\n};\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$fa8510ae82eccb4d$export$e481b0370444f494","key","value","serializedState","stringify","localStorage","setItem","error","console","message","$fa8510ae82eccb4d$export$efde19727f3cd66e","getItem","undefined","$98e8d9af7ebb5149$var$images","amazon","width","apple","bookshop","$98e8d9af7ebb5149$var$amazon","$98e8d9af7ebb5149$var$apple","$98e8d9af7ebb5149$var$bookshop","$98e8d9af7ebb5149$export$ed109cc220aecda","name","$98e8d9af7ebb5149$var$ShopIcon","srcset1x","srcset2x","$8c2382b688308024$export$fc330cc8afb2a391","_id","book_image","title","author","list_name","description","buy_links","map","join","$109a87a28175559c$var$shoppingList","document","querySelector","BooksArray","Array","isArray","cardMarkup","insertAdjacentHTML","$109a87a28175559c$var$renderShoppingList","$bafb69086f205015$var$burgerMenu","$bafb69086f205015$var$btnOpen","$bafb69086f205015$var$closeModalMenu","$bafb69086f205015$export$b07e517d22efa1ca","$bafb69086f205015$export$2b11c48ef85de3e2","attributes","type","ownerElement","checked","addEventListener","style","display","documentElement","setAttribute","removeAttribute","hasAttribute","$340be92e3cb549f6$var$btnUp","window","hidden","scrollY","clientHeight","onclick","scrollTo","scrollX"],"version":3,"file":"shopping-list.a0eae8bc.js.map"}